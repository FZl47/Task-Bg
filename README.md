# Task-Bg
### اجرای تسک ها در بک گراند
برای ارسال ایمیل یا کارهایی که نیاز به پردازش یا ریسپانس آنی ندارند میتوانید استفاده کنید .

### نحوه استفاده :
+ اضافه کردن **task-bg** به پروژه 
+ ایمپورت کردن کلاس های **Loop** و **Task** در فایل خود
+ ساخت یک نمونه از کلاس **Loop** 
+ ساخت تسک و اضافه کردن ان به نمونه کلاس **Loop**
+ اجرا کردن نمونه کلاس **Loop**
#### مثال :
```python
  from task_bg import Loop, Task
  
  # Loop ایجاد یک نمونه از کلاس 
  loop = Loop()
  
  def send_email(email):
    """
      Send Email
    """
    ...
    ...
    
  # ایجاد تسک 
  task_send_email = Task(send_email,('myemail@gmail.com',))
  
  # loop افزودن تسک به 
  loop.add(task_send_email)
  
  # loop اجرای 
  loop.start()
  
```

---
### نکته
 
+ توجه کنید اگر از این ماژول در فریم ورک های وب نظیر جنگو یا فلسک و یا ... استفاده میکنید قابلیت **multi threading**  در نرم افزار رابط بین پروژه شما و وب سرور نظیر   gunicorn  یا uwsgi  یا ... فعال باشد .
 
 + تمامی تسک ها در یک ترد(Loop) اجرا میشوند 
 
 + تسک ها به صورت سینک اجرا میشوند(فعلا)

 + پس از اجرای Loop اگر تسکی به ان اضافه شود به صف ان Loop اضافه میشود و در نهایت اجرا میشود
---

از این ماژول در پروژه های **Random Music** و **Pizzle API**  استفاده شده است
